## 服务限流



## 服务降级
服务器压力剧增时，*为了保证核心功能的可用性*。选择性的降低一些功能的可用性，或者直接关闭功能。可能是自身系统出现了故障而降级。


## 服务熔断
依赖的外部接口出现故障，断绝与外部接口之间的联系。
熔断状态机：
closed：关闭状态，允许请求通过。
halfopen：半开放状态，允许请求通过。
open：开放状态，不允许请求通过。

### 熔断和降级异同
* 相同点
  * 从可用性和可靠性触发，为了防止系统崩溃
  * 最终让用户体验到的是某些功能暂时不能用
* 不同点
  * 服务熔断一般是下游服务故障导致的
  * 服务降级一般是从整体系统负荷考虑，由调用方控制




